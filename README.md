pthread-adventure
=================

This program was originally written as a solution to a programming assignment in the Operating Systems I (CS 344) course at Oregon State University taught by Benjamin Brewster.

The purpose of the assignment was to gain familiarity with reading and manipulating files and directories on a Linux system using various C libraries. Additionally, the concept of concurrency and multithreading was studied via use of the POSIX threads library.

Two executables are required to be compiled and executed for this program.

## Executable 1 - buildrooms

**Build Instructions:**

```bash
gcc -o buildrooms kilgorep.buildrooms.c
```

Running this executable will create a new subdirectory in the current directory which will hold seven plain text files. These files will each describe a room in a multi-room dungeon with each file containing the room name, a list of links to other rooms, and the type of the room, i.e. a starting room, end room, or middle room. There can only be one start room and one end room, and each room must have at least three and no more than six links to other rooms in the dungeon. Room names are randomly chosen from a pool of 10 hard-coded candidate names.

## Executable 2 - adventure

**Build Instructions:**

```bash
gcc -o adventure kilgorep.adventure.c -lpthread
```

Running this executable will kick off the actual game. The dungeon layout for the game is generated by reading the text files in the subdirectory created by buildrooms. The user is then prompted to enter the name of a room connected to their current location with the end goal of reaching the end room. The number of moves needed to reach the end as well as the user's path through the dungeon are reported upon completion of the dungeon.

At any time, the user can issue the `time` command to have the current system local time and date appear in the console. The actual time and date data are generated in a separate thread from the main game loop, and a pthread_mutex is used to synchronize the time data file writes and reads between the two threads.